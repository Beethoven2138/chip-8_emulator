#include <chip-8.hpp>

chip-8::chip-8(char *rom)
{
	opcode = 0;
	memset(memory, 0, 4096);
	memset(V, 0, 16);
	I = 0;
	pc = 0x200; /*application loaded at 0x200*/
	memset(gfx, 0, 64 * 32);
	delay_timer = 0;
	sound_timer = 0;
	memset(stack, 0, 16 * 2);
	sp = 0;
	memset(key, 0, 16);

	for (int i = 0; i < 80; i++)
		memory[i] = chip8_fontset[i];

        FILE* rom_file = fopen(rom, "r");
	if (rom_file == NULL)
		exit(1);
	else
		fread(memory[512], 1, 0xF00 - 0x200, rom_file);
}

chip-8::~chip-8()
{
}
